Version 4
SHEET 1 1064 696
WIRE -176 112 -272 112
WIRE -64 112 -112 112
WIRE 304 112 288 112
WIRE 400 112 384 112
WIRE 288 176 288 112
WIRE 304 176 288 176
WIRE 400 176 400 112
WIRE 400 176 368 176
WIRE 672 176 560 176
WIRE 944 176 736 176
WIRE -272 192 -272 112
WIRE -272 192 -400 192
WIRE -224 192 -272 192
WIRE -192 192 -224 192
WIRE -400 208 -400 192
WIRE -272 224 -272 192
WIRE -192 224 -192 192
WIRE -160 224 -192 224
WIRE -64 240 -64 112
WIRE -64 240 -96 240
WIRE 0 240 -64 240
WIRE 64 240 0 240
WIRE 176 240 128 240
WIRE 288 240 288 176
WIRE 288 240 256 240
WIRE 304 240 288 240
WIRE -160 256 -192 256
WIRE 400 256 400 176
WIRE 400 256 368 256
WIRE 448 256 400 256
WIRE 560 256 560 176
WIRE 560 256 528 256
WIRE 592 256 560 256
WIRE 720 256 672 256
WIRE 816 256 720 256
WIRE 304 272 272 272
WIRE 944 272 944 176
WIRE 944 272 880 272
WIRE 1008 272 944 272
WIRE 720 288 720 256
WIRE 816 288 784 288
WIRE -400 304 -400 288
WIRE -272 304 -272 288
WIRE -272 304 -400 304
WIRE -192 304 -192 256
WIRE 272 320 272 272
WIRE -400 336 -400 304
WIRE 784 336 784 288
WIRE 944 336 944 272
WIRE 944 336 784 336
WIRE 720 384 720 352
WIRE -240 464 -240 448
WIRE -400 480 -400 448
WIRE -240 496 -240 464
WIRE -400 512 -400 480
WIRE -400 624 -400 576
WIRE -240 624 -240 592
FLAG -400 336 0
FLAG -240 624 0
FLAG -400 624 0
FLAG -192 304 vnp
FLAG -240 464 vnp
FLAG -400 480 vnn
FLAG -224 192 vnn
FLAG 0 240 out1
FLAG 272 320 0
FLAG 720 384 0
FLAG 1008 272 out
SYMBOL cap -288 224 R0
WINDOW 3 24 36 Left 2
SYMATTR Value {Ci}
SYMATTR InstName Ci1
SYMBOL cap -112 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cf1
SYMATTR Value 1p
SYMBOL Opamps\\opamp -128 176 R0
SYMATTR InstName U1
SYMATTR SpiceLine Aol={Aol_OPA}
SYMATTR SpiceLine2 GBW={GBW_OPA}
SYMBOL current -400 208 R0
WINDOW 0 33 17 Left 2
WINDOW 123 -27 191 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -33 167 Left 2
SYMATTR InstName Idet1
SYMATTR Value2 AC 1
SYMATTR Value PULSE(0 {Qdet/Ton} 20u {1e-4*Ton} {1e-4*Ton} {Ton})
SYMBOL vnoise -240 544 R0
WINDOW 39 0 0 Left 2
SYMATTR SpiceLine R={Rn}
SYMATTR InstName X1
SYMBOL inoise -400 544 R0
WINDOW 39 0 0 Left 2
SYMATTR SpiceLine R={Rn}
SYMATTR InstName X2
SYMBOL cap 128 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {Cs}
SYMBOL Opamps\\opamp 336 192 R0
SYMATTR InstName U2
SYMATTR SpiceLine Aol={Aol_OPA}
SYMATTR SpiceLine2 GBW={GBW_OPA}
SYMBOL res 544 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rs}
SYMBOL cap 368 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -24 -18 VTop 2
SYMATTR InstName C2
SYMATTR Value {Cs}
SYMBOL res 400 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -17 8 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rs}
SYMBOL res 688 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rs}
SYMBOL res 272 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rs}
SYMBOL cap 736 352 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value {Cs/2}
SYMBOL Opamps\\opamp 848 336 M180
SYMATTR InstName U3
SYMATTR SpiceLine Aol={Aol_OPA}
SYMATTR SpiceLine2 GBW={GBW_OPA}
SYMBOL cap 736 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -24 -18 VTop 2
SYMATTR InstName C4
SYMATTR Value {Cs}
TEXT -440 -296 Left 2 !.param Qdet=-1p Ton=1n
TEXT -440 -136 Left 2 !.param Aol_OPA=1e5 GBW_OPA={Aol_OPA*1e20}
TEXT 192 -16 Left 2 !.tran 50u
TEXT 200 -296 Left 2 !.lib opamp.sub
TEXT -440 -256 Left 2 !.param Ci=99p
TEXT -440 -336 Left 2 ;Detector signal parameters.
TEXT 200 -328 Left 2 ;include the subcircuit for amplifier
TEXT 192 -56 Left 2 !;.ac dec 10 1 1G
TEXT 192 -96 Left 2 ;Simulation and measurements
TEXT -432 -200 Left 2 ;Amplifier parameters
TEXT -432 -168 Left 2 ;open loop band width is set to 1e20 Hz
TEXT 192 16 Left 2 !;.noise V(out) Idet1 dec 100 1 1G
TEXT -192 608 Left 2 !.param Rn=10k
TEXT 200 -240 Left 2 ;parameters for the shaping time
TEXT 208 -176 Left 2 !.param Cs = 100p\n.param Rs={ts/Cs}
TEXT 208 -208 Left 2 !.param ts=1u
